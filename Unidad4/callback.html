<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Callback</title>
    <link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon">
</head>
<body>
    <p id="demo">DEMO 1</p>
    <p id="demo2">DEMO 2</p>
    
</body>
<script>
    function myCalculatorConsole(num1, num2){
        let sum =num1+num2;
        console.log(sum);
    }

    myCalculatorConsole(2,3);
    function myCalculatorConsoleDOM(num1, num2){
        let sum=num1+num2;
        document.getElementById("demo").innerHTML=sum;
    }

        // myCalculatorConsoleDOM(4,5);


    //ejemlo simple
function myDisplayerDOM(some) {
    document.getElementById("demo").innerHTML=some;    
}
function myDisplayerConsole(some) {
    console.log(some);
    
}

    function myCalculator(num1,num2, myCallback) {
        let sum = num1+num2;
        myCallback(sum);
        
    }
    function showArray(array, callback){
        for (let i = 0; i < array.length; i++) {
            callback(array[i]);            
        }
    }
    const array =[1,2,3];

    showArray(array,console.log); //A cada valor, le aplica el metodo
    
    //Esto funciona pero no se suele hacer coge el elemento del array y le aplica la funcion por callback, pero no lo veo
    array.forEach(myDisplayerConsole);

    //funcion anomina con notacion clasica
    array.forEach(function (element) {
        console.log(element);
    });

    //Funcion anonima arrow (el nombre de function anonimo no se pone) Metodo + utilizado
    array.forEach((element)=> console.log(element));

    //Funcion anonima arrow si tiene mas de una linea es con llave
    array.forEach((element)=> {
        console.log(element)
    });

    //Filter array con funcion anonima pasada por callback
    const array2 = [1,2,4,5,8,9,3,4,6,8,12,10,8,9];

    const arrayfiltered = array2.filter((element)=> {
        return element>2;
    });
    console.log(arrayfiltered);

    
    //findIndex
    //En anotacion funcional
    function findIndex(array, callback) {
        for (let i = 0; i < array.length; i++) {
            const element = array[i];
            if (callback(element)) {
                return i;  
            }; 
        } 
        return -1;       
    };

    let index7 = findIndex(array2, function(numero){
        return numero===7;

    });
    console.log(`Elemento 7 enontrado en posición ${index7}`);

    let index10 = findIndex(array2, (element) => element===10);
    console.log(`Elemento 10 enontrado en posición ${index10}`);

    // array.findIndex();

//Vamos a hacer una función que muestre los elementos en una unordered list
//Despues otra función que reciba por agumento array y una callback para aplicar cada elemento
//finalmente, mostramos
function showInHtml(some,id){
    document.getElementById(`${id}`).innerHTML+=some;
};

/**
 * Mostrar un array en un html.
 * @param {array} num1 The first number to add.
 * @param {id} el id del elemento de HTML donde queremos mostrar la lista.
 * @param {callback} function for callback.
 */
function showArrayUn(array,id,callback){  
    let str=""; //Solucion B 
    array.forEach((element,index) => { //Podemos editar el forEach añadiendole un nuevo argumento index, 
        //Solucion A
        //callback(`${index===0?"<ul>":""}<li>${element}</li>${index===(array.length-1)?"Final":""}`);          
            //El callback se lo lleva para mostrarlo
            //Duda, porque me pone automaticamente el </ul> tras la primera itieneracion?

        //SOlucion B: lo acumulo en STRING y luego lo paso todo:
        str+=`${index===0?"<ol>":""}<li>${element}</li>${index===(array.length-1)?"</ol>":""}`;
            
    });
    callback(str,id);
};

//llamamos a nuestras funciones
showArrayUn(array2,"demo2",showInHtml); //Pa

</script>
</html>